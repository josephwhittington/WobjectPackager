<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Whittington Wobject Packager V1</title>
        <!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
        <meta
            http-equiv="Content-Security-Policy"
            content="script-src 'self' 'unsafe-inline';"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="./common/css/bootstrap.css"
        />
        <style>
            #title {
                text-align: center;
            }
            .file-input {
                width: 50;
            }
            .filesection {
                width: 100%;
                /* height: 60px; */
            }
            .filesection .ftitle {
                display: inline;
                text-align: center;
            }
            .filesection .file {
                display: flex;
            }
            filesection .file input {
                text-align: center;
                margin: auto;
            }
        </style>
        <script src="../renderer.js"></script>
    </head>
    <body>
        <h3 id="title" class="mt-3">Wobject Packaging Tool v1</h3>
        <p style="text-align: center;">
            We out here packaging shit and whatnot.
        </p>
        <ul class="list-group mx-2">
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="w-50 ftitle">Model FBX</h5>
                </div>
                <input
                    type="file"
                    name="model"
                    id="model"
                    class="w-50 d-inline"
                />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("model").onchange = function(
                        event
                    ) {
                        event.preventDefault();
                        console.log("bruh\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "model", path);
                    };
                </script>
            </li>
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="ftitle w-50">Albedo</h5>
                </div>
                <input
                    type="file"
                    name="albedo"
                    id="albedo"
                    class="w-50 d-inline"
                />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("albedo").onchange = function(
                        event
                    ) {
                        event.preventDefault();
                        console.log("albedo\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "diffuse", path);
                    };
                </script>
            </li>
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="ftitle w-50">Metallic</h5>
                </div>
                <input
                    type="file"
                    name="metallic"
                    id="metallic"
                    class="w-50 d-inline"
                />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("metallic").onchange = function() {
                        event.preventDefault();
                        console.log("metallic\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "metallic", path);
                    };
                </script>
            </li>
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="ftitle w-50">Roughness</h5>
                </div>
                <input
                    type="file"
                    name="roughness"
                    id="roughness"
                    class="w-50 d-inline"
                />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("roughness").onchange = function() {
                        event.preventDefault();
                        console.log("roughness\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "roughness", path);
                    };
                </script>
            </li>
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="ftitle w-50">Normal</h5>
                </div>
                <input
                    type="file"
                    name="normal"
                    id="normal"
                    class="w-50 d-inline"
                />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("normal").onchange = function() {
                        event.preventDefault();
                        console.log("normal\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "normal", path);
                    };
                </script>
            </li>
            <li
                class="filesection list-group-item d-flex justify-content-between"
            >
                <div class="w-50">
                    <h5 class="ftitle w-50">AO</h5>
                </div>
                <input type="file" name="ao" id="ao" class="w-50 d-inline" />
                <script type="text/javascript" charset="utf-8">
                    document.getElementById("ao").onchange = function() {
                        event.preventDefault();
                        console.log("ao\n");
                        console.log(this.files[0].path);
                        let path = this.files[0].path;
                        ipc.send("drop", "ao", path);
                    };
                </script>
            </li>
        </ul>
        <div class="mt-3 mx-2">
            <button
                id="EXPORT"
                class="btn btn-block btn-outline-success"
                type="submit"
            >
                Export
            </button>
        </div>
        <div
            style="height: 50px"
            class="d-flex align-items-end justify-content-center"
        >
            <p class="dtext-center text-secondary m-0">by Whittington</p>
        </div>
        <script type="text/javascript" charset="utf-8">
            document.getElementById("EXPORT").onclick = event => {
                event.preventDefault();
                console.log("Export\n");
                ipc.send("export");
            };
        </script>
    </body>
</html>
